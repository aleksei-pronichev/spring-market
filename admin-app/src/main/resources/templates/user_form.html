<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!--/*@thymesVar id="user" type="ru.pronichev.dto.UserDto"*/-->

<head th:replace="fragments/navigation.html :: head">
	<title>add user</title></head>

<body>

<nav th:replace="fragments/navigation.html :: navigation">
</nav>

<div class="container">
	<div class="row py-2">
		<div class="col-12">
			<form method="post" th:action="@{/user}" th:object="${user}">
				<input id="id" th:field="*{id}" type="hidden">
				<div class="form-group">
					<label>Username</label>
					<input class="form-control" id="name" placeholder="Enter username" th:field="*{username}"
						   type="text">
					<p class="text-danger" th:errors="*{username}" th:if="${#fields.hasErrors('username')}"></p>
				</div>
				<div class="form-group">
					<label>Password</label>
					<input class="form-control" id="password" placeholder="Enter password" th:field="*{password}"
						   type="password">
					<p class="text-danger" th:errors="*{password}" th:if="${#fields.hasErrors('password')}"></p>
				</div>
				<div class="form-group">
					<label>Repeat password</label>
					<input class="form-control" id="repeatPassword" placeholder="Repeat password"
						   th:field="*{repeatPassword}"
						   type="password">
					<p class="text-danger" th:errors="*{password}" th:if="${#fields.hasErrors('password')}"></p>
				</div>
				<div class="form-group">
					<label for="roles">Roles</label>
					<select class="form-control" id="roles" multiple required th:field="*{roles}">
						<option th:each="role : ${roles}"
								th:text="${role.name}"
								th:value="${role.id} + ';' + ${role.name}"
								th:selected="${user.roles?.contains(role)}">
						</option>
					</select>
				</div>
				<button class="btn btn-primary" type="submit">Submit</button>
			</form>
		</div>
	</div>
</div>


<th:block th:replace="fragments/scripts.html :: scripts">
</th:block>

</body>

</html>